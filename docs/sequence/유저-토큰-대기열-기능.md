**`주요` 유저 대기열 토큰 기능**

- 서비스를 이용할 토큰을 발급받는 API를 작성합니다.
- 토큰은 유저의 UUID 와 해당 유저의 대기열을 관리할 수 있는 정보 ( 대기 순서 or 잔여 시간 등 ) 를 포함합니다.
- 이후 모든 API 는 위 토큰을 이용해 대기열 검증을 통과해야 이용 가능합니다.

> 기본적으로 폴링으로 본인의 대기열을 확인한다고 가정하며, 다른 방안 또한 고려해보고 구현해 볼 수 있습니다


```mermaid
sequenceDiagram
    actor u as User
    participant rs as ReservationService
    participant um as UserManager
    participant tm as TokenManager
    participant db as Database

    u->>+rs: 대기열 Token 요청
    rs->>+um: 유저 정보 확인
    um->>+db: 유저 정보 요청
    db->>-um: 유저 정보 반환
    opt 존재하지 않는 유저인 경우
        um->>-rs: User Not Found Exception
        rs->>-u: User Not Found Exception
    end    
    rs->>+tm: 토큰 발급 요청
    tm->>+db: 대기 번호 요청
    db->>+tm: 대기 번호 반환
    tm->>+rs: 토큰 발급
    rs->>u: 대기열 Token 반환
```